<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title></title>
</head>

<body>
    <script>
        class Person {
            #name;
            #surname;
            #age;
            constructor(name, surname, age) {
                this.#name = name;
                this.#surname = surname;
                this.#age = age;
            }
            set name(name) {
                if (!name) {
                    throw new Error("Значение name не определено!");
                }
                this.#name = name;
            }
            get name() {
                return this.#name;
            }
            set surname(surname) {
                if (!surname) {
                    throw new Error("Значение surname не определено!");
                }
                this.#surname = surname;
            }
            get surname() {
                return this.#surname;
            }
            #checkAge(age) {
                if (!age || age <= 0)
                    return false;
                else
                    return true;
            }
            set age(age) {
                if (!this.#checkAge(age)) {
                    this.#age = 20;
                }
                else
                    this.#age = age;
            }
            get age() {
                return this.#age;
            }

            print() {
                document.write("Имя: " + this.#name + "<br />");
                document.write("Фамилия: " + this.#surname + "<br />");
                document.write("Возраст: " + this.#age + "<br />");
            }
        }

        class Student extends Person {
            #rating;
            constructor(name, surname, age, rating) {
                super(name, surname, age);
                this.#rating = rating;
            }
            set rating(rating) {
                if (!rating || rating <= 0 || rating > 12) {
                    throw new Error("Значение rating должно быть в диапазоне от 1 до 12!");
                }
                this.#rating = rating;
            }
            get rating() {
                return this.#rating;
            }
            print() {
                super.print();
                document.write("Рейтинг: " + this.#rating + "<br />");
            }
        }

        let person = new Person("Иван", "Иваненко", 25);
        person.print();
        // person.#name = "Пётр";
        person.name = "Петр";
        person.surname = "Петренко";
        // person.#checkAge(-10);
        person.age = -30;
        person.print();
        let copy = person; // копируются ссылки
        copy.print();
        person.name = "Алексей";
        person.surname = "Алексеев";
        person.age = 22;
        copy.print();

        let student = new Student("Сергей", "Сергеев", 27, 10.5);
        student.print();
        student.name = "Олег";
        student.surname = "Кузнецов";
        student.age = 30;
        student.rating = 12;
        student.print();
        
    </script>
</body>

</html>